(this["webpackJsonpreact-redux-e-commerce"]=this["webpackJsonpreact-redux-e-commerce"]||[]).push([[5],{158:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=r.a.memo((function(e){var t=e.value;return r.a.createElement("span",null,"".concat(Math.floor(t/100),",").concat(t%100<10?"0".concat(t%100):t%100," \u20ac"))}))},159:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var a=n(49),r=function(e){return{type:a.a.setItems,payload:{items:e}}},c=function(e){return{type:a.a.addItem,payload:{item:e}}},o=function(e){return{type:a.a.removeItem,payload:{item:e}}}},161:function(e,t,n){"use strict";var a=n(8),r=n(0),c=n.n(r);t.a=function(e){var t=e.title,n=e.src,r=e.style;return c.a.createElement("img",{style:Object(a.a)({maxWidth:"100%",maxHeight:"100%",boxShadow:"1px 0px 3px grey"},r),src:n,alt:"".concat(t)})}},163:function(e,t,n){"use strict";var a=n(35),r=n(0),c=n(26),o=n(15),i=n.n(o),u=n(25),l=n(37),s=n(64),d=Object(s.a)("books"),f=d.getItems,m=d.createItems,p=d.updateItems,b=d.deleteItems,h=m,v=p,g=b,y=n(166),E=function(e){return{type:l.a.setBooks,payload:{books:e}}},k=function(e){return{type:l.a.updateBooks,payload:{books:e}}},x=function(e){return{type:l.a.deleteBooks,payload:{books:e}}},O=function(){return{type:l.a.fetchStart}},j=function(e){return{type:l.a.fetchEnd,payload:{errorMessage:e}}},C=n(44);n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return S}));var w=function(e){var t=Object(r.useState)(!e),n=Object(a.a)(t,2),o=n[0],l=n[1],s=Object(c.b)(),d=Object(c.c)((function(e){return e.books})),m=d.books,p=d.loading,b=d.hasLoaded,h=d.errorMessage;return Object(r.useEffect)((function(){b&&o||p||(l(!0),s(function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(O()),e.prev=1,e.next=4,f();case 4:if(0!==(n=e.sent).length){e.next=8;break}return t(E(y)),e.abrupt("return",t(j()));case 8:n.length>0&&(t(E(n)),t(j())),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),t(j(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()))}),[b,p,e,s,o]),{books:m,loading:p,hasLoaded:b,errorMessage:h}},S=function(){var e=Object(c.b)(),t=Object(C.b)().me;return{addBooks:function(t){return e(function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(O()),t.prev=1,t.next=4,h(e);case 4:a=t.sent,n(E(a)),n(j()),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),n(j(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},deleteBooks:function(n){return t&&e(function(e,t){return function(){var e=Object(u.a)(i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(O()),e.prev=1,e.next=4,g(t.map((function(e){return e.id||""})));case 4:a=e.sent,n(x(a)),n(j()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),n(j(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,n))},updateBooks:function(n){return t&&e(function(e,t){return function(){var e=Object(u.a)(i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(O()),e.prev=1,e.next=4,v(t);case 4:a=e.sent,n(k(a)),n(j()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),n(j(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}(0,n))}}}},164:function(e,t,n){"use strict";var a=n(35),r=n(8),c=n(26),o=n(65),i=n(15),u=n.n(i),l=n(25),s=n(21),d=n(64),f=Object(d.a)("orders"),m=f.getItems,p=f.createItems,b=f.updateItems,h=m,v=p,g=b,y=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return n=e.sent,e.abrupt("return",n.filter((function(e){return e.buyer.id===t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=n(159),k=function(e){return{type:s.a.setOrders,payload:{orders:e}}},x=function(e){return{type:s.a.addOrder,payload:{order:e}}},O=function(e){return{type:s.a.updateOrders,payload:{orders:e}}},j=function(){return{type:s.a.fetchStart}},C=function(){return{type:s.a.fetchEnd}},w=function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(j()),t.prev=1,t.next=4,y(e);case 4:a=t.sent,n(k(a)),n(C()),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),n(C());case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(j()),t.prev=1,t.next=4,g(e);case 4:n(O(e)),n(C()),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),n(C());case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},z=n(44),I=n(0),D=n(18);n.d(t,"d",(function(){return q})),n.d(t,"c",(function(){return A})),n.d(t,"a",(function(){return W})),n.d(t,"b",(function(){return B}));var q=function(){return Object(c.c)((function(e){return e.orders}))},A=function(){var e=Object(c.b)(),t=Object(D.f)(),n=Object(z.b)().me;return{createOrder:function(a){return n&&n.id?e((r={id:Object(o.uuid)(),buyer:{id:n.id,name:n.name,surname:n.surname,username:n.username},status:s.b.created,items:a},function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(j()),e.prev=1,e.next=4,v([r]);case 4:n=e.sent,t(x(n[0])),t(Object(E.c)([])),t(C()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),t(C());case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())):t.push("/login");var r},cancelOrder:function(t){return e(S([Object(r.a)({},t,{status:s.b.canceled})]))},dispatchOrder:function(t){return e(S([Object(r.a)({},t,{status:s.b.dispatched})]))},completeOrder:function(t){return e(S([Object(r.a)({},t,{status:s.b.completed})]))},updateOrder:function(t){return e(S([t]))}}},W=function(){var e=Object(c.b)(),t=Object(z.b)(),n=Object(c.c)((function(e){return e.orders}));return Object(I.useEffect)((function(){!n.hasLoaded&&!n.loading&&t.me&&t.me.id&&e(w(t.me.id))})),Object(r.a)({},n,{loading:t.loading||n.loading})},B=function(e){var t=Object(I.useState)(!1),n=Object(a.a)(t,2),r=n[0],o=n[1],i=Object(c.b)(),u=Object(c.c)((function(e){return e.orders})),l=u.orders,s=u.loading,d=u.hasLoaded;return Object(I.useEffect)((function(){!e||r||s||(o(!0),i(w(e)))}),[e,s,i,r]),{orders:l,loading:s,hasLoaded:d}}},166:function(e){e.exports=JSON.parse('[{"title":"The Book of Why","author":"Judea Pearl","publishedDate":"2018-05-15","image":"https://books.google.com/books/content?id=BzM0DwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api","quantity":9,"price":8378,"id":"803358d7-176b-467a-82c1-3d2fe70c1b12"},{"title":"The Book","author":"Nicole Howard","publishedDate":"2005","image":"https://books.google.com/books/content?id=4WwdMJKXzhEC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api","quantity":29,"price":8669,"id":"464b74b8-1bae-4a1f-ac43-0c8637fd56b5"},{"title":"Google Chrome","author":"Unknown Author","publishedDate":["2020-02-18","08:35:51.858Z"],"image":"https://books.google.com/books/content?id=8UsqHohwwVYC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api","quantity":47,"price":157,"id":"27dc8475-1c2e-4bba-952a-761c92126f5a"},{"title":"The Coming of the Book","author":"Lucien Febvre","publishedDate":"1997","image":"https://books.google.com/books/content?id=9opxcMjv4TUC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api","quantity":47,"price":5137,"id":"28238f4f-d623-4512-8730-70dd517b51cb"},{"title":"It","author":"Stephen King","publishedDate":"2016-01-05","image":"https://books.google.com/books/content?id=S85NCwAAQBAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api","quantity":14,"price":5017,"id":"ae2d87e7-fb72-464e-acbd-e895f6b0cce9"},{"title":"The Hunger Games","author":"Suzanne Collins","publishedDate":"2008","image":"https://books.google.com/books/content?id=hlb_sM1AN0gC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api","quantity":56,"price":8009,"id":"20dadc87-598a-4c7e-838a-b5a5dde4373a"},{"title":"Alice\'s Adventures in Wonderland","author":"Lewis Carroll","publishedDate":"1869","image":"https://books.google.com/books/content?id=btIQAAAAYAAJ&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api","quantity":62,"price":8429,"id":"bce2f2e2-117f-4e13-9d17-87ceca3c1402"},{"title":"The Booklist","author":"Unknown Author","publishedDate":"1906","image":"https://books.google.com/books/content?id=S3RWpOtkvmAC&printsec=frontcover&img=1&zoom=1&source=gbs_api","quantity":89,"price":2747,"id":"f024ae49-979f-41d2-96a5-faba1019eaa7"},{"title":"The ICU Book","author":"Paul L. Marino","publishedDate":"2007","image":"https://books.google.com/books/content?id=OWEmVx9MS74C&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api","quantity":43,"price":9164,"id":"0134a49c-cb0f-422d-a11b-c2df1fbbdd84"},{"title":"The Nature of the Book","author":"Adrian Johns","publishedDate":"1998","image":"https://books.google.com/books/content?id=zobsj8npWeAC&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api","quantity":72,"price":3423,"id":"8ef24bf0-5398-4330-a5cc-78bb3cd3ec0b"}]')},167:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(149),o=n(158);t.a=r.a.memo((function(e){var t=e.value,n=e.label,a=void 0===n?"Price: ":n;return r.a.createElement(c.a,{style:{fontWeight:700},noWrap:!0,variant:"subtitle2",color:"primary"},a,r.a.createElement(o.a,{value:t}))}))},190:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(146),o=n(176),i=n(163),u=n(26),l=n(159),s=function(){var e=Object(u.b)();return Object(a.useCallback)((function(t){e(Object(l.a)(t))}),[e])},d=n(35),f=n(193),m=n(148),p=n(164),b=n(184),h=n(149),v=n(168),g=n.n(v),y=n(171),E=n.n(y),k=r.a.memo((function(e){var t=e.handleCloseClick;return r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(b.a,{disabled:!0},r.a.createElement(g.a,null)),r.a.createElement(h.a,{style:{fontSize:24,marginTop:10},variant:"h4"},"Shopping Cart"),r.a.createElement(b.a,{onClick:function(){return t()}},r.a.createElement(E.a,null)))})),x=n(172),O=n.n(x),j=n(186),C=n(147),w=n(158),S=n(174),z=n.n(S),I=n(175),D=n.n(I),q=function(e){var t=e.quantity,n=e.handleDecrease,a=e.handleIncrease;return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{border:"1px solid gray",borderRadius:15}},r.a.createElement(b.a,{style:{width:30},size:"small",onClick:function(){return n()}},r.a.createElement(z.a,null)),t,r.a.createElement(b.a,{style:{width:30},size:"small",onClick:function(){return a()}},r.a.createElement(D.a,null))))},A=n(161),W=function(e){var t=e.item,n=e.handleDecrease,a=e.handleIncrease;return r.a.createElement("div",{key:t.id,style:{display:"flex",padding:10}},r.a.createElement(A.a,{style:{width:100,height:140},src:t.image,title:t.title}),r.a.createElement("div",{style:{paddingLeft:10,display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{paddingBottom:10}},r.a.createElement(h.a,{style:{fontSize:14},component:"h3",variant:"h3"},t.title),r.a.createElement(h.a,{style:{fontSize:12},noWrap:!0,variant:"subtitle2",color:"textSecondary"},t.author),r.a.createElement(h.a,{style:{fontSize:12},noWrap:!0,variant:"subtitle2",color:"textSecondary"},t.publishedDate)),r.a.createElement("div",{style:{marginTop:"auto"}},r.a.createElement(q,{quantity:t.quantity,handleDecrease:function(){return n(t)},handleIncrease:function(){return a(t)}}),r.a.createElement("div",{style:{paddingTop:10,fontSize:16}},"Price: ",r.a.createElement(w.a,{value:t.quantity*t.price})))))},B=n(185),L=r.a.memo((function(e){var t=e.item,n=e.handleDecrease,a=e.handleIncrease;return r.a.createElement(B.a,{key:"".concat(t.id),divider:!0},r.a.createElement(A.a,{src:t.image,title:t.title,style:{width:55,height:75}}),r.a.createElement("div",{style:{paddingLeft:10,paddingRight:10}},r.a.createElement("div",{style:{flex:1,paddingLeft:10}},r.a.createElement(h.a,{style:{fontSize:14,maxWidth:140},component:"h3",variant:"h3"},t.title),r.a.createElement(h.a,{style:{fontSize:12},noWrap:!0,variant:"subtitle2",color:"textSecondary"},t.author),r.a.createElement(h.a,{style:{fontSize:12},noWrap:!0,variant:"subtitle2",color:"textSecondary"},t.publishedDate))),r.a.createElement("div",{style:{minWidth:70,marginLeft:"auto"}},r.a.createElement(q,{quantity:t.quantity,handleDecrease:function(){return n(t)},handleIncrease:function(){return a(t)}})),r.a.createElement("div",{style:{width:70,display:"flex",justifyContent:"flex-end",fontWeight:700,fontSize:16}},r.a.createElement(w.a,{value:t.quantity*t.price})))})),T=function(e){var t=e.items,n=e.addItem,a=e.removeItem,c=Object(j.a)(O()({maxWidth:400}))?W:L;return r.a.createElement(C.a,null,t.map((function(e){return r.a.createElement(c,{key:e.id,item:e,handleDecrease:a,handleIncrease:n})})))},_=function(e){var t=e.loading,n=e.disabled,a=e.handleClick,i=e.totalCount;return r.a.createElement(o.a,{container:!0,justify:"flex-end"},t&&r.a.createElement(c.a,null),r.a.createElement(m.a,{startIcon:r.a.createElement(g.a,null),disabled:n,onClick:function(){return a()}},"Cart: ".concat(i)))},M=function(e){var t=e.totalPrice,n=e.totalCount;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:20}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(h.a,{variant:"h5"},"Total Items"),r.a.createElement(h.a,{style:{marginLeft:"auto",fontSize:20},variant:"h5"},n)),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(h.a,{variant:"h5"},"Total Price"),r.a.createElement(h.a,{style:{marginLeft:"auto",fontSize:20},variant:"h5"},r.a.createElement(w.a,{value:t}))))},J=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],i=Object(u.c)((function(e){return e.cartItems})).items,b=s(),h=function(){var e=Object(u.b)();return Object(a.useCallback)((function(t){e(Object(l.b)(t))}),[e])}(),v=Object(p.d)().loading,g=Object(p.c)().createOrder,y=i.reduce((function(e,t){return e+t.quantity}),0),E=i.reduce((function(e,t){return e+t.price*t.quantity}),0),x=Object(a.useCallback)((function(){return c(!1)}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{loading:v,disabled:0===i.length||v,handleClick:function(){return y>0&&c(!0)},totalCount:y}),r.a.createElement(f.a,{anchor:"right",open:n,onClose:x},r.a.createElement(k,{handleCloseClick:x}),r.a.createElement(T,{items:i,addItem:b,removeItem:h}),r.a.createElement(M,{totalCount:y,totalPrice:E}),r.a.createElement(o.a,{style:{padding:20},container:!0,justify:"space-between"},r.a.createElement(m.a,{fullWidth:!0,onClick:function(){return c(!1),g(i)},variant:"contained",color:"primary"},"Create Order"))))},P=n(167),N=function(e){var t=e.book,n=e.handleClick,a=t.title,c=t.author,i=t.publishedDate,u=t.image,l=t.quantity,s=t.price;return r.a.createElement(o.a,{style:{display:"flex",padding:10},item:!0,xs:12,sm:6,md:4},r.a.createElement(A.a,{title:a,src:u,style:{maxWidth:128}}),r.a.createElement("div",{style:{flexGrow:1,display:"flex",flexDirection:"column",paddingLeft:10}},r.a.createElement("div",null,r.a.createElement(h.a,{component:"h6",variant:"h6"},a),r.a.createElement(h.a,{variant:"subtitle2",color:"textSecondary"},c),r.a.createElement(h.a,{noWrap:!0,variant:"subtitle2",color:"textSecondary"},i),r.a.createElement(h.a,{noWrap:!0,variant:"subtitle2",color:"textSecondary"},"Quantity: ".concat(l)),r.a.createElement(P.a,{value:s})),r.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end"}},r.a.createElement(o.a,null,r.a.createElement(m.a,{variant:"contained",onClick:function(){return n(t)},color:"primary"},"Add to Cart")))))};t.default=function(){var e=Object(i.b)(),t=e.books,n=e.loading,a=s();return r.a.createElement("div",null,n&&r.a.createElement(c.a,null),!n&&r.a.createElement(o.a,{container:!0,spacing:5},r.a.createElement(J,null),t.map((function(e){return r.a.createElement(N,{key:e.id,book:e,handleClick:a})}))))}}}]);
//# sourceMappingURL=5.b2a8b83a.chunk.js.map